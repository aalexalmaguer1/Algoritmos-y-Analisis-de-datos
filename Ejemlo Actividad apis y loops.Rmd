---
title: "Actividad1"
author: "Programaci√≥n financiera"
output:
  html_document:
    toc: yes
    toc_float:
      collapsed: yes
  word_document:
    toc: yes
  pdf_document:
    toc: yes
  theme: united
  toc_depth: 3
  highlight: tango
editor_options: 
  chunk_output_type: inline
---


# Question 1
Take the first 20 tickers from the file tickers.xlsx, to create a loop that does the following: i) get the prices for each ticker from yahoo finance from 2018/02/26 to 2021/02/26; ii)  estimate the arithmetic returns of the adjusted prices for each ticker and stores them in an xts object (it could also be data frame or matrix). When you print the head and tail, it must look like this. For the arithmetic returns use the function Delt.
```{r}

```


```{r setup, include=T}
knitr::opts_chunk$set(echo = F)
```

```{r, warning=FALSE,message=FALSE, include=FALSE}
library(quantmod)
library(openxlsx)
```


```{r warning=FALSE,message=FALSE}

tickers<-read.xlsx("tickers.xlsx")
tickers<-tickers[1:20,]
n<-length(tickers)
getSymbols(tickers,from="2018/02/26", to="2021/02/27")

ret<-get(tickers[1])[,6]
ret2<-Delt(ret)
colnames(ret2)<-colnames(ret)

# loop

for (i in 2:n){

rem<-get(tickers[i])[,6]
rem2<-Delt(rem)

ret2<-cbind(ret2,rem2)
colnames(ret2)[i]<-colnames(rem)
  
}
ret2<-ret2[-1,]

```



```{r}
head(ret2)
tail(ret2)
```

# Question 2  
Create a loop that estimates and stores in a matrix the average and standard deviation for each return you estimated in question 1. To estimate the mean and standard deviation, use the function apply. Also, add the column and row names for one ticker, but the loop must add the column names for the other tickers by itself. The output must look like this. 


```{r}
#loop
 
mean<-apply(ret2[,1],2,mean)
sd<-apply(ret2[,1],2,sd)
ma<-matrix(c(mean,sd),2,1)
rownames(ma)<-c("Mean","StanDev")
colnames(ma)<-colnames(ret2)[1]

for (i in 2:n){
   
 
mean<-apply(ret2[,i],2,mean)
sd<-apply(ret2[,i],2,sd)
#sharp<-mean/sd
ma2<-matrix(c(mean,sd),2,1)
ma<-cbind(ma,ma2)
colnames(ma)[i]<-colnames(ret2)[i]
}
print(ma)
```

